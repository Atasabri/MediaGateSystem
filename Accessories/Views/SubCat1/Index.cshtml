@using Accessories.Models
@model IEnumerable<SubCat1>
@{
    ViewBag.Title = "Sub Categories";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Sub Categories</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
@using (Ajax.BeginForm("GetData", "SubCat1", new AjaxOptions { UpdateTargetId = "DIV", HttpMethod = "POST", InsertionMode = InsertionMode.Replace }))
{
     @Html.DropDownList("Cat_ID", new SelectList(new DB().Categories, "ID", "Name"),"--Select Category--", htmlAttributes: new { @class = "form-control" })
    <input id="Submit1" type="submit" value="Show Sub Categories" class="btn btn-default" />
    <br/>
    <div id="DIV">
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Category.Name)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Category.Name)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
                        @Html.ActionLink("Details", "Details", new { id = item.ID }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.ID })
                    </td>
                </tr>
            }

        </table>
    </div>
}
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
<script src="~/Scripts/jquery-1.10.2.intellisense.js"></script>
